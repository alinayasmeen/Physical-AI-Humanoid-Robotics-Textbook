# مینی پروجیکٹ 1: نیویگیشن ٹیسٹ بیڈ

**مدت**: 3-4 گھنٹے
**موڈیول**: موڈیول 2 - ڈیجیٹل ٹوئن
**ضروریات**: لیبز 1-3 مکمل، Gazebo ورلڈز اور ROS 2 انٹیگریشن کی سمجھ

## جائزہ

روبوٹ نیویگیشن ٹیسٹنگ کے لیے ایک مکمل Gazebo سیمولیشن ماحول بنائیں. یہ پروجیکٹ موڈیول 2 کے تمام سیمولیشن تصورات کو ضم کرتا ہے: ڈیجیٹل ٹوئن ورک فلو، فزکس سیمولیشن، ورلڈ تخلیق، اور سینسر انٹیگریشن.

## اہداف

ایک نیویگیشن ٹیسٹ بیڈ بنائیں جس میں:

- مختلف زمینی سرزمین کے ساتھ کسٹم Gazebo ورلڈ
- متعدد رکاوٹوں کی اقسام (سٹیٹک اور ڈائنامک)
- نیویگیشن اہداف کے لیے ویپوائنٹ مارکرز
- خودکار نیویگیشن ٹیسٹنگ کے لیے سینسر والے روبوٹ
- کنٹرول اور فیڈ بیک کے لیے ROS 2 انٹیگریشن

## سسٹم معماری

```
┌─────────────────────────────────────────────────────────────────┐
│                    نیویگیشن ٹیسٹ بیڈ ورلڈ                      │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │                                                          │    │
│  │    [Start]  ──────▶  [Waypoint 1]  ──────▶  [Goal]      │    │
│  │       │                    │                   │         │    │
│  │       │    ┌──────┐       │    ┌──────┐      │         │    │
│  │       └───▶│ Obs1 │◀──────┘───▶│ Obs2 │◀─────┘         │    │
│  │            └──────┘            └──────┘                  │    │
│  │                                                          │    │
│  │    [ڈائنامک رکاوٹ]  ←→  راستے کے ساتھ حرکت کر رہا        │    │
│  │                                                          │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  روبوٹ سینسرز:                                                  │
│  - LiDAR (360° اسکین رکاوٹ ڈیٹیکشن کے لیے)                     │
│  - کیمرہ (بصری نیویگیشن اور ویپوائنٹ ڈیٹیکشن کے لیے)            │
│  - IMU (اوڈومیٹری اور جہت)                               │
└─────────────────────────────────────────────────────────────────┘
```

## ضروریات

### 1. ورلڈ ڈیزائن

ایک نیویگیشن ٹیسٹ بیڈ ورلڈ (`navigation_testbed.world`) بنائیں جس میں:

**زمینی خصوصیات**:

- فلیٹ زمین کا علاقہ (20m x 20m کم از کم)
- اختیاری: 5-10° انکلائن کے ساتھ ریمپ سیکشنز
- زمینی سطح کے لیے ممتاز بصری ٹیکسچر

**سٹیٹک رکاوٹیں**:

- کم از کم 5 سٹیٹک رکاوٹیں (باکسز، سلنڈرز، دیواریں)
- مختلف سائز (0.3m سے 2m)
- کولیژن خصوصیات ترتیب دی گئی

**ڈائنامک رکاوٹ**:

- ایک حرکت پذیر رکاوٹ (اعلی ٹیسٹنگ کے لیے اختیاری)
- قابل پیش گوئی حرکت کا نمونہ (آگے پیچھے)

**ویپوائنٹ مارکرز**:

- بصری مارکرز (رنگین سلنڈرز یا سپیئرز)
- ابتدائی پوزیشن مارکر (سبز)
- درمیانی ویپوائنٹس (پیلا)
- گول پوزیشن مارکر (سرخ)

### 2. روبوٹ کنفیگریشن

لیب 3 سے سینسر والے روبوٹ کا استعمال کریں، یا اس طرح روبوٹ کنفیگر کریں:

```xml
<!-- ضروری سینسرز -->
<sensor name="lidar" type="gpu_lidar">
  <!-- 360° اسکین، 10Hz اپ ڈیٹ کی شرح -->
</sensor>

<sensor name="front_camera" type="camera">
  <!-- بصری نیویگیشن کے لیے RGB کیمرہ -->
</sensor>

<sensor name="imu" type="imu">
  <!-- جہت اور ایکسلریشن ڈیٹا -->
</sensor>
```

### 3. ROS 2 لانچ فائل

`navigation_testbed.launch.py` بنائیں:

```python
# لانچ کرنا چاہیے:
# - Gazebo کے ساتھ navigation_testbed.world
# - ابتدائی پوزیشن پر روبوٹ اسپون کیا گیا
# - تمام سینسر ٹاپکس کے لیے ros_gz برج
# - اختیاری: وژولائزیشن کے لیے RViz2
```

### 4. ٹیسٹ اسکرپٹ

`test_navigation.py` ROS 2 نوڈ بنائیں:

```python
# ٹیسٹ اسکرپٹ کو چاہیے:
# 1. تصدیق کریں کہ روبوٹ صحیح طریقے سے اسپون ہوا
# 2. چیک کریں کہ تمام سینسر ٹاپکس شائع کر رہے ہیں
# 3. ہر ویپوائنٹ پر روبوٹ بھیجیں ترتیب وار
# 4. نیویگیشن کی پیشرفت اور سینسر کے پڑھاؤں کو لاگ کریں
# 5. ہر ویپوائنٹ کے لیے کامیابی/ناکامی کی رپورٹ کریں
```

## شروع کریں

### ورک سپیس سیٹ اپ

```bash
cd ~/ros2_ws/src
ros2 pkg create --build-type ament_python navigation_testbed \
    --dependencies rclpy geometry_msgs sensor_msgs
```

### اسٹارٹر فائلز

`starter/` ڈائریکٹری میں اسٹارٹر کوڈ استعمال کریں:

- `worlds/navigation_testbed_template.sdf` - ٹوڈوز کے ساتھ ورلڈ ٹیمپلیٹ
- `launch/navigation_testbed.launch.py` - لانچ فائل ٹیمپلیٹ
- `navigation_testbed/test_navigation.py` - ٹیسٹ اسکرپٹ ٹیمپلیٹ

### ٹیسٹ بیڈ چلانا

```bash
# پیکج تعمیر کریں
colcon build --packages-select navigation_testbed

# ٹیسٹ بیڈ لانچ کریں
ros2 launch navigation_testbed navigation_testbed.launch.py

# دوسرے ٹرمنل میں، ٹیسٹ اسکرپٹ چلائیں
ros2 run navigation_testbed test_navigation
```

## جائزہ کے معیار

| معیار | پوائنٹس |
|-----------|--------|
| ورلڈ میں 5+ سٹیٹک رکاوٹیں شامل ہیں | 15 |
| ویپوائنٹ مارکرز نظر آتے ہیں اور صحیح طریقے سے پوزیشن کیے گئے ہیں | 15 |
| روبوٹ سینسرز ترتیب دیے گئے اور شائع کر رہے ہیں | 20 |
| لانچ فائل غلطیوں کے بغیر کام کرتی ہے | 15 |
| ٹیسٹ اسکرپٹ سینسر ٹاپکس کی تصدیق کرتا ہے | 15 |
| ویپوائنٹس کے درمیان نیویگیشن ممکن ہے | 10 |
| صاف کوڈ اور دستاویزات | 10 |
| **کل** | **100** |

## توسیعات (بونس)

1. **ڈائنامک رکاوٹیں**: رکاوٹ ڈیٹیکشن سے بچنے کے چیلنجز کے ساتھ حرکت پذیر رکاوٹیں شامل کریں
2. **زمینی تبدیلی**: ریمپس، خراب زمین، یا ڈیفورمیبل سطحیں شامل کریں
3. **متعدد روبوٹس**: متعدد روبوٹس اسپون کریں اور مربوط کریں
4. **موسم کے اثرات**: دھند، لائٹنگ کی تبدیلیاں، یا پارٹیکل ایفیکٹس شامل کریں
5. **میٹرکس جمع کرنا**: نیویگیشن کارکردگی کے میٹرکس کو لاگ اور وژولائز کریں
6. **پاتھ منصوبہ بندی انٹیگریشن**: Nav2 نیویگیشن اسٹیک کے ساتھ انٹیگریٹ کریں

## اشارے

- رکاوٹ ماڈلز کو دوبارہ استعمال کرنے کے لیے SDF میں `<include>` ٹیگس استعمال کریں
- رکاوٹوں کے لیے `<static>true</static>` سیٹ کریں جو حرکت نہیں کرنا چاہتے
- ویپوائنٹ مارکرز کے لیے `<visual>` `<collision>` کے بغیر استعمال کریں (غیر فزیکل)
- اپنے ہارڈ ویئر کے قابل کے مطابق سینسر اپ ڈیٹ کی شرح کنفیگر کریں
- برجنگ سے پہلے Gazebo ٹاپکس کی تصدیق کے لیے `gz topic -l` کا استعمال کریں

## حل

مکمل نفاذ کے لیے `solution/` ڈائریکٹری دیکھیں جس میں شامل ہے:

- `worlds/navigation_testbed.world` - مکمل ورلڈ فائل
- `launch/navigation_testbed.launch.py` - کام کرتی ہوئی لانچ فائل
- `navigation_testbed/test_navigation.py` - مکمل ٹیسٹ اسکرپٹ

## ریفلیکشن سوالات

1. سینسر اپ ڈیٹ کی شرح کا انتخاب نیویگیشن کارکردگی بمقابلہ کمپیوٹیشنل لاگت پر کیا اثر ڈالتا ہے؟
2. کون سے فزکس پیرامیٹر (فرکشن، ماس) روبوٹ کی رکاوٹوں کے گرد نیویگیٹ کرنے کے قابلیت کو سب سے زیادہ متاثر کرتے ہیں؟
3. آپ مختلف نیویگیشن الگورتھم کو منصفانہ طریقے سے جانچنے کے لیے اس ٹیسٹ بیڈ کو کیسے تبدیل کریں گے؟
4. جب اس ٹیسٹ بیڈ سے نیویگیشن کوڈ کو ایک جسمانی روبوٹ پر لاگو کریں گے تو آپ کن sim-to-real گیپس کا سامنا کر سکتے ہیں؟
5. ٹیسٹنگ کے تناؤ کے لیے مختلف رکاوٹ لے آؤٹس کو جنریٹ کرنے کے عمل کو آپ کیسے آٹومیٹ کر سکتے ہیں؟