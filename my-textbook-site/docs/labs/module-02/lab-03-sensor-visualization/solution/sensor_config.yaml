# Sensor Configuration - Module 2 Lab 3 Solution
#
# Complete sensor configuration with all parameters filled in.

# Camera Configuration
camera:
  name: front_camera
  type: camera
  update_rate: 30
  image:
    width: 640
    height: 480
    format: R8G8B8
  horizontal_fov: 1.047
  clip:
    near: 0.1
    far: 100.0
  topic: camera/image_raw
  ros_message_type: sensor_msgs/msg/Image
  # SDF snippet for reference:
  sdf_example: |
    <sensor name="camera" type="camera">
      <pose>0.1 0 0.1 0 0 0</pose>
      <always_on>true</always_on>
      <update_rate>30</update_rate>
      <camera name="front_camera">
        <horizontal_fov>1.047</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
      </camera>
      <topic>camera/image_raw</topic>
    </sensor>

# LiDAR Configuration
lidar:
  name: front_lidar
  type: gpu_lidar
  update_rate: 10
  horizontal:
    samples: 360
    resolution: 1
    min_angle: -3.14159
    max_angle: 3.14159
  range:
    min: 0.1
    max: 30.0
    resolution: 0.01
  noise:
    type: gaussian
    mean: 0.0
    stddev: 0.01
  topic: scan
  ros_message_type: sensor_msgs/msg/LaserScan
  sdf_example: |
    <sensor name="lidar" type="gpu_lidar">
      <pose>0 0 0.2 0 0 0</pose>
      <always_on>true</always_on>
      <update_rate>10</update_rate>
      <lidar>
        <scan>
          <horizontal>
            <samples>360</samples>
            <resolution>1</resolution>
            <min_angle>-3.14159</min_angle>
            <max_angle>3.14159</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.1</min>
          <max>30.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </lidar>
      <topic>scan</topic>
    </sensor>

# IMU Configuration
imu:
  name: body_imu
  type: imu
  update_rate: 100
  angular_velocity_noise:
    type: gaussian
    mean: 0.0
    stddev: 0.01
  linear_acceleration_noise:
    type: gaussian
    mean: 0.0
    stddev: 0.1
  topic: imu/data
  ros_message_type: sensor_msgs/msg/Imu
  sdf_example: |
    <sensor name="imu" type="imu">
      <pose>0 0 0.05 0 0 0</pose>
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <imu>
        <angular_velocity>
          <x><noise type="gaussian"><mean>0</mean><stddev>0.01</stddev></noise></x>
          <y><noise type="gaussian"><mean>0</mean><stddev>0.01</stddev></noise></y>
          <z><noise type="gaussian"><mean>0</mean><stddev>0.01</stddev></noise></z>
        </angular_velocity>
        <linear_acceleration>
          <x><noise type="gaussian"><mean>0</mean><stddev>0.1</stddev></noise></x>
          <y><noise type="gaussian"><mean>0</mean><stddev>0.1</stddev></noise></y>
          <z><noise type="gaussian"><mean>0</mean><stddev>0.1</stddev></noise></z>
        </linear_acceleration>
      </imu>
      <topic>imu/data</topic>
    </sensor>

# Complete Bridge Command
bridge_command: >
  ros2 run ros_gz_bridge parameter_bridge
  /camera/image_raw@sensor_msgs/msg/Image@gz.msgs.Image
  /scan@sensor_msgs/msg/LaserScan@gz.msgs.LaserScan
  /imu/data@sensor_msgs/msg/Imu@gz.msgs.IMU
